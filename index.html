<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <title>Arnando –ê—Ä–µ–Ω–¥–∞: –ù–∞–ª–æ–≥–∏ –∏ –î–æ—Ö–æ–¥—ã</title>
    <link rel="stylesheet" href="styles/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <div id="app" class="app">
        <!-- –®–∞–ø–∫–∞ -->
        <header class="header">
            <div class="header-content">
                <h1>–ê—Ä–µ–Ω–¥–∞: –ù–∞–ª–æ–≥–∏ –∏ –î–æ—Ö–æ–¥—ã</h1>
                <div class="header-actions">
                    <button id="exportBtn" class="btn-secondary">–≠–∫—Å–ø–æ—Ä—Ç</button>
                </div>
            </div>
        </header>

        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
        <nav class="navigation">
            <div class="nav-content">
                <button class="nav-btn active" data-page="dashboard">üìä –î–∞—à–±–æ—Ä–¥</button>
                <button class="nav-btn" data-page="objects">üè† –û–±—ä–µ–∫—Ç—ã</button>
                <button class="nav-btn" data-page="calculator">üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</button>
                <button class="nav-btn" data-page="contracts">üìë –î–æ–≥–æ–≤–æ—Ä—ã</button>
                <button class="nav-btn" data-page="analytics">üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</button>
                <button id="themeToggle" class="nav-btn theme-toggle">üåô –¢—ë–º–Ω–∞—è</button>
            </div>
        </nav>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="main-content">
            <!-- –î–∞—à–±–æ—Ä–¥ -->
            <div id="dashboard" class="page active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>–û–±—â–∞—è –ø—Ä–∏–±—ã–ª—å</h3>
                        <div class="stat-value" id="totalProfit">0 ‚ÇΩ</div>
                        <div class="stat-label">–∑–∞ –≤—Å–µ –≤—Ä–µ–º—è</div>
                    </div>
                    <div class="stat-card">
                        <h3>–ê–∫—Ç–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã</h3>
                        <div class="stat-value" id="activeObjects">0</div>
                        <div class="stat-label">–∏–∑ <span id="totalObjects">0</span></div>
                    </div>
                    <div class="stat-card">
                        <h3>–°–ª–µ–¥—É—é—â–∏–π –Ω–∞–ª–æ–≥</h3>
                        <div class="stat-value" id="nextTax">0 ‚ÇΩ</div>
                        <div class="stat-label">–¥–æ 28 —á–∏—Å–ª–∞</div>
                    </div>
                    <div class="stat-card">
                        <h3>–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ –ø–ª–∞—Ç–µ–∂–∏</h3>
                        <div class="stat-value" id="upcomingPayments">0</div>
                        <div class="stat-label">–Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ</div>
                    </div>
                </div>

                <div class="dashboard-content">
                    <div class="card">
                        <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</h3>
                        <div id="recentTransactions" class="transactions-list">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                    </div>

                    <div class="card">
                        <h3>–ë–ª–∏–∂–∞–π—à–∏–µ –ø–ª–∞—Ç–µ–∂–∏</h3>
                        <div id="upcomingList" class="upcoming-list">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- –û–±—ä–µ–∫—Ç—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ -->
            <div id="objects" class="page">
                <div class="page-header">
                    <h2>–û–±—ä–µ–∫—Ç—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</h2>
                    <button id="addObjectBtn" class="btn-primary">+ –î–æ–±–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç</button>
                </div>
                <div id="objectsList" class="cards-grid">
                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                </div>
            </div>


            <!-- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä -->
            <div id="calculator" class="page">
                <div class="calculator-header">
                    <h2>–ù–∞–ª–æ–≥–æ–≤—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h2>
                </div>

                <div class="calculator-grid">
                    <div class="card">
                        <h3>–î–æ—Ö–æ–¥—ã –∏ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏–µ</h3>
                        <div class="form-group">
                            <label>–ê—Ä–µ–Ω–¥–Ω–∞—è –ø–ª–∞—Ç–∞ (–º–µ—Å):</label>
                            <input type="number" id="rentIncome" placeholder="0" class="form-input">
                        </div>
                        <div class="form-group">
                            <label>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏:</label>
                            <input type="number" id="additionalIncome" placeholder="0" class="form-input">
                        </div>

                        <div class="form-group">
                            <label>–¢–∏–ø –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—è:</label>
                            <div class="landlord-type-selector">
                                <label class="landlord-type-label">
                                    <input type="radio" name="landlordType" value="selfEmployed" checked>
                                    <span>–°–∞–º–æ–∑–∞–Ω—è—Ç—ã–π (–ù–ü–î)</span>
                                </label>
                                <label class="landlord-type-label">
                                    <input type="radio" name="landlordType" value="individualEntrepreneur">
                                    <span>–ò–ü (–£–°–ù)</span>
                                </label>
                                <label class="landlord-type-label">
                                    <input type="radio" name="landlordType" value="individual">
                                    <span>–§–∏–∑–ª–∏—Ü–æ (–ù–î–§–õ)</span>
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>–¢–∏–ø –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞:</label>
                            <div class="tenant-type-selector">
                                <label class="tenant-type-label">
                                    <input type="radio" name="tenantType" value="physical" checked>
                                    <span>–§–∏–∑–ª–∏—Ü–æ</span>
                                </label>
                                <label class="tenant-type-label">
                                    <input type="radio" name="tenantType" value="legal">
                                    <span>–Æ—Ä–ª–∏—Ü–æ</span>
                                </label>
                            </div>
                        </div>
                    </div>


                    <div class="card">
                        <h3>–†–∞—Å—Ö–æ–¥—ã</h3>
                        <div class="form-group">
                            <label>–ò–ø–æ—Ç–µ–∫–∞ (–º–µ—Å):</label>
                            <input type="number" id="mortgageExpense" placeholder="0" class="form-input">
                        </div>
                        <div class="form-group">
                            <label>–ö–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏:</label>
                            <input type="number" id="utilitiesExpense" placeholder="0" class="form-input">
                        </div>
                        <div class="form-group">
                            <label>–†–µ–º–æ–Ω—Ç –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ:</label>
                            <input type="number" id="maintenanceExpense" placeholder="0" class="form-input">
                        </div>
                        <div class="form-group">
                            <label>–ü—Ä–æ—á–∏–µ —Ä–∞—Å—Ö–æ–¥—ã:</label>
                            <input type="number" id="otherExpenses" placeholder="0" class="form-input">
                        </div>
                        <button id="calculateBtn" class="btn-primary">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                    </div>

                    <div class="card results-card">
                        <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á–µ—Ç–∞</h3>
                        <div class="result-item">
                            <span>–û–±—â–∏–π –¥–æ—Ö–æ–¥:</span>
                            <span id="totalIncome">0 ‚ÇΩ</span>
                        </div>
                        <div class="result-item">
                            <span>–û–±—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã:</span>
                            <span id="totalExpenses">0 ‚ÇΩ</span>
                        </div>

                        <div class="result-item tax">
                            <span id="taxLabel">–°—Ç–∞–≤–∫–∞: 4%</span>
                            <span id="taxAmount">0 ‚ÇΩ</span>
                        </div>

                        <div class="result-item profit">
                            <span>–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å:</span>
                            <span id="netProfit">0 ‚ÇΩ</span>
                        </div>

                        <div class="tax-info" id="taxInfo">
                            <strong>–ù–∞–ª–æ–≥ –Ω–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥ (–ù–ü–î)</strong><br>
                            ‚Ä¢ –°—Ç–∞–≤–∫–∞: 4% –ø—Ä–∏ —Å–¥–∞—á–µ —Ñ–∏–∑–ª–∏—Ü–∞–º<br>
                            ‚Ä¢ –°—Ç–∞–≤–∫–∞: 6% –ø—Ä–∏ —Å–¥–∞—á–µ —é—Ä–ª–∏—Ü–∞–º<br>
                            ‚Ä¢ –†–∞—Å—Ö–æ–¥—ã –Ω–µ —É–º–µ–Ω—å—à–∞—é—Ç –Ω–∞–ª–æ–≥–æ–≤—É—é –±–∞–∑—É<br>
                            ‚Ä¢ –£–ø–ª–∞—Ç–∞ –¥–æ 28 —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞
                        </div>
                    </div>
                </div>
            </div>

            <!-- –î–æ–≥–æ–≤–æ—Ä—ã -->
            <div id="contracts" class="page">
                <div class="page-header">
                    <h2>–î–æ–≥–æ–≤–æ—Ä—ã –∞—Ä–µ–Ω–¥—ã</h2>
                    <button id="addContractBtn" class="btn-primary">+ –ù–æ–≤—ã–π –¥–æ–≥–æ–≤–æ—Ä</button>
                </div>
                <div id="contractsList" class="cards-grid">
                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                </div>
            </div>

            <!-- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ -->
            <div id="analytics" class="page">
                <div class="analytics-header">
                    <h2>–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</h2>
                    <div class="period-selector">
                        <select id="analyticsPeriod" class="form-select">
                            <option value="month">–ó–∞ –º–µ—Å—è—Ü</option>
                            <option value="quarter">–ó–∞ –∫–≤–∞—Ä—Ç–∞–ª</option>
                            <option value="year">–ó–∞ –≥–æ–¥</option>
                        </select>
                    </div>
                </div>

                <div class="analytics-grid">
                    <div class="card chart-card">
                        <h3>–î–æ—Ö–æ–¥—ã –∏ —Ä–∞—Å—Ö–æ–¥—ã</h3>
                        <canvas id="incomeExpenseChart"></canvas>
                    </div>

                    <div class="card chart-card">
                        <h3>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –æ–±—ä–µ–∫—Ç–∞–º</h3>
                        <canvas id="objectsChart"></canvas>
                    </div>

                    <div class="card">
                        <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                        <div class="stats-list">
                            <div class="stat-row">
                                <span>–û–±—â–∏–π –¥–æ—Ö–æ–¥:</span>
                                <span id="analyticsIncome">0 ‚ÇΩ</span>
                            </div>
                            <div class="stat-row">
                                <span>–û–û–±—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã:</span>
                                <span id="analyticsExpenses">0 ‚ÇΩ</span>
                            </div>
                            <div class="stat-row">
                                <span>–£–ø–ª–∞—á–µ–Ω–æ –Ω–∞–ª–æ–≥–æ–≤:</span>
                                <span id="analyticsTaxes">0 ‚ÇΩ</span>
                            </div>
                            <div class="stat-row profit">
                                <span>–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å:</span>
                                <span id="analyticsProfit">0 ‚ÇΩ</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div id="objectModal" class="modal hidden">
        <div class="modal-content">
            <h3 id="objectModalTitle">–î–æ–±–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç</h3>
            <form id="objectForm">
                <input type="hidden" id="objectId">
                <div class="form-group">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞:</label>
                    <input type="text" id="objectName" required class="form-input">
                </div>
                <div class="form-group">
                    <label>–ê–¥—Ä–µ—Å:</label>
                    <input type="text" id="objectAddress" required class="form-input">
                </div>
                <div class="form-group">
                    <label>–¢–∏–ø –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏:</label>
                    <select id="objectType" class="form-select">
                        <option value="apartment">–ö–≤–∞—Ä—Ç–∏—Ä–∞</option>
                        <option value="house">–î–æ–º</option>
                        <option value="room">–ö–æ–º–Ω–∞—Ç–∞</option>
                        <option value="commercial">–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ –∞—Ä–µ–Ω–¥—ã (‚ÇΩ/–º–µ—Å):</label>
                    <input type="number" id="objectRent" required class="form-input">
                </div>
                <div class="modal-actions">
                    <button type="button" id="cancelObjectBtn" class="btn-secondary">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <div id="contractModal" class="modal hidden">
        <div class="modal-content">
            <h3 id="contractModalTitle">–ù–æ–≤—ã–π –¥–æ–≥–æ–≤–æ—Ä</h3>
            <form id="contractForm">
                <input type="hidden" id="contractId">
                <div class="form-group">
                    <label>–û–±—ä–µ–∫—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏:</label>
                    <select id="contractObject" required class="form-select"></select>
                    <div id="noObjectsWarning" class="warning-message hidden">
                        ‚ö†Ô∏è –°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ –æ–±—ä–µ–∫—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–û–±—ä–µ–∫—Ç—ã"
                    </div>
                </div>
                <div class="form-group">
                    <label>–ê—Ä–µ–Ω–¥–∞—Ç–æ—Ä:</label>
                    <input type="text" id="contractTenant" required class="form-input">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:</label>
                        <input type="date" id="contractStart" required class="form-input">
                    </div>
                    <div class="form-group">
                        <label>–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è:</label>
                        <input type="date" id="contractEnd" required class="form-input">
                    </div>
                </div>
                <div class="form-group">
                    <label>–°—É–º–º–∞ –∞—Ä–µ–Ω–¥—ã (‚ÇΩ/–º–µ—Å):</label>
                    <input type="number" id="contractAmount" required class="form-input">
                </div>
                <div class="form-group">
                    <label>–ì—Ä–∞—Ñ–∏–∫ –ø–ª–∞—Ç–µ–∂–µ–π:</label>
                    <select id="contractSchedule" class="form-select">
                        <option value="monthly">–ï–∂–µ–º–µ—Å—è—á–Ω–æ</option>
                        <option value="quarterly">–ü–æ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω–æ</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" id="cancelContractBtn" class="btn-secondary">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn-primary" id="saveContractBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/database.js"></script>
    <script src="js/calculator.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/app.js"></script>
</body>

</html>
